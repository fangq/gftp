<!doctype book PUBLIC "-//OASIS//DTD DocBook V3.1//EN" []>
<book>

<bookinfo>
  <date>October 31st 2003</date>
  <title>gFTP FAQ</title>
  <authorgroup>
    <author>
      <firstname>Brian</firstname>
      <surname>Masney</surname>
    </author>
  </authorgroup>
</bookinfo>

<toc></toc>

<!-- ***************************************************************** -->
<chapter>
<title>General Information</title>

<!-- ----------------------------------------------------------------- -->

<sect1>
<title>What systems is gFTP known to run on?</title>

<para>I develop gFTP on a Debian GNU/Linux machine. Here is a list of other
platforms I have received successful compile reports:</para>

<itemizedlist>
<listitem><simpara>FreeBSD/NetBSD/OpenBSD/BSDI</simpara></listitem>
<listitem><simpara>Solaris</simpara></listitem>
<listitem><simpara>IRIX</simpara></listitem>
<listitem><simpara>Digital UNIX</simpara></listitem>
<listitem><simpara>HP/UX 11</simpara></listitem>
</itemizedlist>

<para>If gFTP compiles and runs on a platform not listed here, please email me
about it and I'll add it to this list. If you are having problems compiling
GTK+ or gFTP on another platform, try using GNU make instead of your vendor
supplied make.</para>
</sect1>

<!-- ----------------------------------------------------------------- -->

<sect1>
<title>I'm having problems getting SSH2 transfers to work. I keep getting the
error: <emphasis>Error: Message size XXXXXXXX too big from server</emphasis>
</title>

<para>What probably is the problem, sftp-server isn't in your path on the
remote server. When you try to connect to the remote server, you'll see the
command gFTP is trying to run, and it'll look something like:</para>

<para><literallayout><literal>ssh -e none -l username hostname "echo -n xsftp ;  sftp-server"</literal></literallayout</para>

<para>Try running this command. If you get a prompt asking:</para>

<para><literallayout><literal>
The authenticity of host 'hostname (###.###.###.###)' can't be established.
RSA key fingerprint is xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx.
Are you sure you want to continue connecting (yes/no)?
</literal></literallayout></para>

<para>Tell it yes. gFTP won't even try to answer this question for you at the
moment. Then, if you get the following output:</para>

<para><literallayout><literal>
Enter passphrase for key '/home/brian/.ssh/id_dsa':
xsftp
bash: sftp-server: command not found
</literal></literallayout></para>

<para>You'll have to set the path to the sftp-server program. Alternatively
you could go under FTP->Options->SSH and enable Use sftp subsys. If you enable
this, then you don't have to know the remote path to your sftp executable.
But if you enable this, gFTP won't be able to send your password over to
the ssh client. So if you're not using ssh-agent, then ssh will spawn the
ssh-askpass program to grab your password.</para>

</sect1>

<!-- ----------------------------------------------------------------- -->

<sect1>
<title>How do I force running the text or gtk+ version of gFTP?</title>

<para>
To run the text port, you can type gftp-text or to run the gtk+ port,
you can run the gftp-gtk. The gftp command is just a shell script that checks
if your DISPLAY variable is set, and if so it'll run the appropriate version.
</para>

</sect1>

<!-- ----------------------------------------------------------------- -->

<sect1>
<title>Is there a way for gFTP to download a bunch of files/directories and
then exit when it's completed?</title>

<para>Yes, the text port of gFTP supports this well. You can type:</para>

<para><literallayout><literal>
gftp-text -d ftp://ftp.somesite.com/someplace
</literal></literallayout></para>

<para>
If someplace is a directory, it'll automatically download all of its
subdirectories as well. If you want to transfer a file through ssh instead
of ftp, just change the <emphasis>ftp://</emphasis> to
<emphasis>ssh://</emphasis>.
</para>

</sect1>

<!-- ----------------------------------------------------------------- -->

<sect1>
<title>In the GTK+ version of gFTP, do I have to enter a port, username and
password to connect to a ftp server?</title>

<para>No you don't. If you leave the port blank, it'll default to the default
port for the protocol you selected (port 21 for FTP). If you leave the
username blank, it will default to logging in as anonymous.</para>

</sect1>

<!-- ----------------------------------------------------------------- -->

<sect1>
<title>How do I set up my HTTP Proxy server?</title>

<para>Go under <emphasis>FTP->Options</emphasis> and hit the FTP tab. Enter
HTTP as the proxy type and fill in your proxy server info on that screen.
Then hit the HTTP tab and enter your same proxy server info there.</para>

</sect1>

<!-- ----------------------------------------------------------------- -->

<sect1>
<title>When gFTP tries to get the remote directory listing, the remote server
complains about either the -a or -L argument to LIST.</title>

<para>If the server is complaining about the -L option, go under
<emphasis>FTP->Options->FTP</emphasis> and disable resolve remote symlinks.
If it is complaining about the -a option, go to 
<emphasis>FTP->Options->General</emphasis> and disable show hidden
files.</para>

</sect1>

<!-- ----------------------------------------------------------------- -->

<sect1>
<title>When gFTP tries to get the remote directory listing, I receive the
error: <emphasis>Cannot create a data connection: Connection
refused</emphasis></title>

<para>Go under <emphasis>FTP->Options->FTP</emphasis> and turn off passive
file transfers. Instead of sending the PASV command to open up the data
connection on the server side, the data connection will be opened up on the
client side, and the PORT command will be sent to the server instead.</para>

</sect1>

<!-- ----------------------------------------------------------------- -->

<sect1>
<title>When I try to compile gFTP, I get some errors. One of them is undefined
symbol LC_ALL.</title>

<para>Try running

<para><literallayout><literal>
make distclean ; configure --with-included-gettext.
</literal></literallayout></para>

<para>You could alternatively pass

<literallayout><literal>
--disable-nls
</literal></literallayout>

to configure, and internationalization support will not be compiled in.</para>

</sect1>

<!-- ----------------------------------------------------------------- -->

<sect1>
<title>How do I report bugs in gFTP?</title>

<para>If you find ANY bugs in gFTP, please check to make sure that you are using
the latest version of gFTP. If you are, please submit all bug reports to
GNOME's Bugzilla. When sending in bug reports, please try to be as
descriptive as possible. Send me what OS/version you are running, what
compiler you are compiling with, and any other important information. If
you get gFTP to crash, it would be very helpful if you could send me a
backtrace. If you do not know how to do a backtrace, download the source
code from my website. Edit the Makefile, and make sure that -g appear in
the CFLAGS variable. Then recompile gFTP, but do NOT do a make install
because it will install a stripped binary in $PREFIX/bin. Then type
gdb ./gftp. Once you have a (gdb) prompt, type r. When gFTP crashes,
go back to that terminal window, and type bt, and put that output in the
bug that you file with bugzilla.</para>

<para>I also have a gftp-users mailinglist setup. I have a link to the archives
on my main webpage.</para>

</sect1>

<!-- ----------------------------------------------------------------- -->

<sect1>
<title>Where does gFTP store it's options?</title>

<para>gFTP will automatically create a ~/.gftp directory when it is first run.
Your config file is ~/.gftp/gftprc, and this is where all of gFTP's
settings are stored. The config file is well commented, so take a glance
at it and see if there is anything you want to change. Your bookmarks are
stored in the file ~/.gftp/bookmarks</para>

</sect1>

<!-- ----------------------------------------------------------------- -->

<sect1>
<title>I am trying to compile your program and I get some parse errors before
GdkDragContext. What's wrong?</title>

<para>You have an older version of gtk installed on your system. If you are
using Red Hat or Debian Linux, simply remove the gtk and glib devel
packages. You can still leave the gtk 1.0 libraries installed.</para>

</sect1>

<!-- ----------------------------------------------------------------- -->

</chapter>

</book>
